<div class="contenedorPrincipal">
    <mat-card class="example-card">
        <mat-card-header>
            <mat-card-title>Datos usuario</mat-card-title>
            <mat-card-subtitle>Pulsa en guardar para editar tus datos</mat-card-subtitle>
            <button mat-raised-button color="accent" id="boton-revertir-cambios" matTooltip="Guardar" (click)="cargarDatosUsuarioEnFormulario()">
                <mat-icon>settings_backup_restore</mat-icon> Revertir cambios
            </button>
            <button mat-raised-button color="primary" matTooltip="Guardar" (click)="actualizarDatosUsuario()">
                <mat-icon>save_alt</mat-icon> Guardar
            </button>
        </mat-card-header>
        
        <mat-divider></mat-divider>

        <mat-card-content id="contenedorFormulario">
            <form [formGroup]="form">
                <div class="divCentrado">
                    <button mat-button (click)="fileInput.click()"> 
                        <app-imagen-usuario *ngIf="usuarioAutenticado != null" [imagen]="usuarioAutenticado.imagen" [width]="100" [height]="100"></app-imagen-usuario>
                    </button>
                    <input hidden (change)="usuarioSeleccionaFicheroImagen()" #fileInput type="file" id="file">
                </div>
                <p style="text-align: center; margin-bottom: 50px; margin-top: 20px;">Clic sobre la imagen para cambiarla</p>      
                <mat-form-field appearance="fill">
                    <mat-label>Nombre</mat-label>
                    <input matInput formControlName="nombre">
                    <ng-container *ngIf="form.controls.nombre.errors">
                        <div class="errorValidacion" *ngIf="form.controls.nombre.errors.required"><small>Campo requerido</small></div>
                    </ng-container>
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <mat-label>Apellidos</mat-label>
                    <input matInput formControlName="apellidos">
                    <ng-container *ngIf="form.controls.apellidos.errors">
                        <div class="errorValidacion" *ngIf="form.controls.apellidos.errors.required"><small>Campo requerido</small></div>
                    </ng-container>
                </mat-form-field>
                <div class="divCentrado">
                    <mat-form-field appearance="fill">
                        <mat-label>Sexo</mat-label>
                        <mat-select formControlName="sexo">
                            <mat-option *ngFor="let tipoSexo of tiposSexo" [value]="tipoSexo.id">
                                {{tipoSexo.descripcion}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>  
                </div>
            </form>
        </mat-card-content>
    </mat-card>      
</div> 
